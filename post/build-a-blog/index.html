<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Build a blog | Grant</title>
<meta name=keywords content="Emacs,hugo"><meta name=description content="How to build your own blog? I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.
Following the course of Youtube, I have probably finished it, and take a record for it now.
Install Hugo Easy for Macos. Make sure that you have installed brew.
brew install hugo Create local website Be familiar with the commands of Hugo."><meta name=author content="Grant"><link rel=canonical href=https://Grant-S-Z.github.io/GrantSite/post/build-a-blog/><link crossorigin=anonymous href=/GrantSite/assets/css/stylesheet.2d50b1531bd1b3146d65c5543bd298f7f982786aadee4c223cb3a1cb51906106.css integrity="sha256-LVCxUxvRsxRtZcVUO9KY9/mCeGqt7kwiPLOhy1GQYQY=" rel="preload stylesheet" as=style><link rel=icon href=https://Grant-S-Z.github.io/GrantSite/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Grant-S-Z.github.io/GrantSite/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Grant-S-Z.github.io/GrantSite/favicon-32x32.png><link rel=apple-touch-icon href=https://Grant-S-Z.github.io/GrantSite/apple-touch-icon.png><link rel=mask-icon href=https://Grant-S-Z.github.io/GrantSite/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Build a blog"><meta property="og:description" content="How to build your own blog? I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.
Following the course of Youtube, I have probably finished it, and take a record for it now.
Install Hugo Easy for Macos. Make sure that you have installed brew.
brew install hugo Create local website Be familiar with the commands of Hugo."><meta property="og:type" content="article"><meta property="og:url" content="https://Grant-S-Z.github.io/GrantSite/post/build-a-blog/"><meta property="article:section" content="post"><meta property="article:modified_time" content="2023-11-21T14:12:38+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Build a blog"><meta name=twitter:description content="How to build your own blog? I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.
Following the course of Youtube, I have probably finished it, and take a record for it now.
Install Hugo Easy for Macos. Make sure that you have installed brew.
brew install hugo Create local website Be familiar with the commands of Hugo."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://Grant-S-Z.github.io/GrantSite/post/"},{"@type":"ListItem","position":2,"name":"Build a blog","item":"https://Grant-S-Z.github.io/GrantSite/post/build-a-blog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Build a blog","name":"Build a blog","description":"How to build your own blog? I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.\nFollowing the course of Youtube, I have probably finished it, and take a record for it now.\nInstall Hugo Easy for Macos. Make sure that you have installed brew.\nbrew install hugo Create local website Be familiar with the commands of Hugo.","keywords":["Emacs","hugo"],"articleBody":"How to build your own blog? I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.\nFollowing the course of Youtube, I have probably finished it, and take a record for it now.\nInstall Hugo Easy for Macos. Make sure that you have installed brew.\nbrew install hugo Create local website Be familiar with the commands of Hugo.\nhugo new site GrantSite Now you can open VS Code or Emacs to edit your own blogs. Use\nhugo server to preview your website.\nBy the way, you can use Git to download a theme you like.\ngit init git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1 git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod You also need to set your theme in your hugo.yml like this.\ntheme: PaperMod Upload your website You need to configure github actions to publish the website to github pages. Before that, you should create a repository and upload it first.\ngit add README.md git commit -m \"init the website\" git branch -M main git remote add origin git@github.com:Grant-S-Z/GrantSite.git git push -u origin main After creating it, to make github do the jobs automatically, you need to establish the workflow. First of all, you should go to the repo actions and change the workflow permissions into “Read and write permissions”. Then, add a .github/workflows/deploy.yml file under the project root directory like this.\nname: GitHub Pages on: push: branches: - main # Set a branch to deploy pull_request: jobs: deploy: runs-on: ubuntu-22.04 concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v4 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: 'latest' # extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: github.ref == 'refs/heads/main' with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./public After that, you can see your website. For me, here’s it.\nHow to use Emacs to write blogs? You need two packages: easy-hugo and ox-hugo.\nJust use Emacs to install them, and it is easy to manage your blogs now.\nHere are my settings:\n;; hugo (use-package easy-hugo :init (setq easy-hugo-basedir \"~/Code/Site/GrantSite/\") ;; 网站本地文件根目录 (setq easy-hugo-url \"https://Grant-S-Z.github.io/GrantSite\") ;; url 路径 (setq easy-hugo-sshdomain \"Grant-S-Z.github.io\") (setq easy-hugo-previewtime \"300\") (setq easy-hugo-default-ext \".org\") :bind (\"C-c b\" . easy-hugo)) (use-package ox-hugo :init (setq org-hugo-base-dir \"~/Code/Site/GrantSite/\") (setq org-hugo-section \"post\") :config (ox-hugo)) ","wordCount":"407","inLanguage":"zh","datePublished":"0001-01-01T00:00:00Z","dateModified":"2023-11-21T14:12:38+08:00","author":[{"@type":"Person","name":"Grant"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://Grant-S-Z.github.io/GrantSite/post/build-a-blog/"},"publisher":{"@type":"Organization","name":"Grant","logo":{"@type":"ImageObject","url":"https://Grant-S-Z.github.io/GrantSite/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://Grant-S-Z.github.io/GrantSite/ accesskey=h title="Grant (Alt + H)">Grant</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Grant-S-Z.github.io/GrantSite/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://Grant-S-Z.github.io/GrantSite/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://Grant-S-Z.github.io/GrantSite/>主页</a>&nbsp;»&nbsp;<a href=https://Grant-S-Z.github.io/GrantSite/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Build a blog</h1><div class=post-meta><span title='2023-11-21 14:12:38 +0800 +0800'>十一月 21, 2023</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;407 字&nbsp;·&nbsp;Grant</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#how-to-build-your-own-blog aria-label="How to build your own blog?">How to build your own blog?</a><ul><li><a href=#install-hugo aria-label="Install Hugo">Install Hugo</a></li><li><a href=#create-local-website aria-label="Create local website">Create local website</a></li><li><a href=#upload-your-website aria-label="Upload your website">Upload your website</a></li></ul></li><li><a href=#how-to-use-emacs-to-write-blogs aria-label="How to use Emacs to write blogs?">How to use Emacs to write blogs?</a></li></ul></div></details></div><div class=post-content><h2 id=how-to-build-your-own-blog>How to build your own blog?<a hidden class=anchor aria-hidden=true href=#how-to-build-your-own-blog>#</a></h2><p>I wanna build my own blog for a long time. Long ago, I have heard about Hugo, which is a convenient tool to build a static website quickly.</p><p>Following the <a href="https://www.youtube.com/watch?v=hjD9jTi_DQ4&amp;list=PLeiDFxcsdhUrzkK5Jg9IZyiTsIMvXxKZP&amp;index=2">course</a> of Youtube, I have probably finished it, and take a record for it now.</p><h3 id=install-hugo>Install Hugo<a hidden class=anchor aria-hidden=true href=#install-hugo>#</a></h3><p>Easy for Macos. Make sure that you have installed brew.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install hugo
</span></span></code></pre></div><h3 id=create-local-website>Create local website<a hidden class=anchor aria-hidden=true href=#create-local-website>#</a></h3><p>Be familiar with the commands of Hugo.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo new site GrantSite
</span></span></code></pre></div><p>Now you can open VS Code or Emacs to edit your own blogs. Use</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo server
</span></span></code></pre></div><p>to preview your website.</p><p>By the way, you can use Git to download a theme you like.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git init
</span></span><span style=display:flex><span>git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>git submodule add --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
</span></span></code></pre></div><p>You also need to set your theme in your hugo.yml like this.</p><pre tabindex=0><code class=language-nil data-lang=nil>theme: PaperMod
</code></pre><h3 id=upload-your-website>Upload your website<a hidden class=anchor aria-hidden=true href=#upload-your-website>#</a></h3><p>You need to configure github actions to publish the website to github pages. Before that, you should create a repository and upload it first.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add README.md
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;init the website&#34;</span>
</span></span><span style=display:flex><span>git branch -M main
</span></span><span style=display:flex><span>git remote add origin git@github.com:Grant-S-Z/GrantSite.git
</span></span><span style=display:flex><span>git push -u origin main
</span></span></code></pre></div><p>After creating it, to make github do the jobs automatically, you need to establish the workflow. First of all, you should go to the repo actions and change the workflow permissions into &ldquo;Read and write permissions&rdquo;. Then, add a .github/workflows/deploy.yml file under the project root directory like this.</p><pre tabindex=0><code class=language-nil data-lang=nil>name: GitHub Pages

on:
  push:
    branches:
      - main  # Set a branch to deploy
  pull_request:

jobs:
  deploy:
    runs-on: ubuntu-22.04
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
    steps:
      - uses: actions/checkout@v4
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: &#39;latest&#39;
          # extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        if: github.ref == &#39;refs/heads/main&#39;
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
</code></pre><p>After that, you can see your website. For me, here&rsquo;s <a href=https://grant-s-z.github.io/GrantSite/>it</a>.</p><h2 id=how-to-use-emacs-to-write-blogs>How to use Emacs to write blogs?<a hidden class=anchor aria-hidden=true href=#how-to-use-emacs-to-write-blogs>#</a></h2><p>You need two packages: easy-hugo and ox-hugo.</p><p>Just use Emacs to install them, and it is easy to manage your blogs now.</p><p>Here are my settings:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span> <span style=color:#75715e>;; hugo</span>
</span></span><span style=display:flex><span>(use-package easy-hugo
</span></span><span style=display:flex><span>  :init
</span></span><span style=display:flex><span>  (setq easy-hugo-basedir <span style=color:#e6db74>&#34;~/Code/Site/GrantSite/&#34;</span>) <span style=color:#75715e>;; 网站本地文件根目录</span>
</span></span><span style=display:flex><span>  (setq easy-hugo-url <span style=color:#e6db74>&#34;https://Grant-S-Z.github.io/GrantSite&#34;</span>) <span style=color:#75715e>;; url 路径</span>
</span></span><span style=display:flex><span>  (setq easy-hugo-sshdomain <span style=color:#e6db74>&#34;Grant-S-Z.github.io&#34;</span>)
</span></span><span style=display:flex><span>  (setq easy-hugo-previewtime <span style=color:#e6db74>&#34;300&#34;</span>)
</span></span><span style=display:flex><span>  (setq easy-hugo-default-ext <span style=color:#e6db74>&#34;.org&#34;</span>)
</span></span><span style=display:flex><span>  :bind (<span style=color:#e6db74>&#34;C-c b&#34;</span> <span style=color:#f92672>.</span> easy-hugo))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(use-package ox-hugo
</span></span><span style=display:flex><span>  :init
</span></span><span style=display:flex><span>  (setq org-hugo-base-dir <span style=color:#e6db74>&#34;~/Code/Site/GrantSite/&#34;</span>)
</span></span><span style=display:flex><span>  (setq org-hugo-section <span style=color:#e6db74>&#34;post&#34;</span>)
</span></span><span style=display:flex><span>  :config
</span></span><span style=display:flex><span>  (ox-hugo))
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://Grant-S-Z.github.io/GrantSite/tags/emacs/>Emacs</a></li><li><a href=https://Grant-S-Z.github.io/GrantSite/tags/hugo/>hugo</a></li></ul><nav class=paginav><a class=prev href=https://Grant-S-Z.github.io/GrantSite/post/use-plantuml-in-org/><span class=title>« 上一页</span><br><span>Use plantuml in org</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://Grant-S-Z.github.io/GrantSite/>Grant</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>